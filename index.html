<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/style.css">
    <link rel="icon" href="img/flowers.png" type="image/x-icon">
    <title>Thân gửi cô Quế Anh</title>
    <link href="https://fonts.googleapis.com/css?family=Anonymous+Pro" rel="stylesheet" type="text/css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>

<body>

    <audio id="background-audio" muted autoplay>
        <source src="./nhac20_11.mp3">
    </audio>
    <div class="greetings">
        <!-- silahkan menambah kata sesuai keinginan dengan <span>text...</span -->

        <span id="letter">T</span>
        <span id="letter">H</span>
        <span id="letter">A</span>
        <span id="letter">N</span>
        <span id="letter">K</span>

        <span style="margin-right: 20px;"></span>

        <span id="letter">Y</span>
        <span id="letter">O</span>
        <span id="letter">U</span>

        <span style="margin-right: 20px;"></span>
        <span id="letter">M</span>
        <span id="letter">I</span>
        <span id="letter">S</span>
        <span id="letter">S</span>
        
        <span style="margin-right: 20px;"></span>
        <span style="margin-right:4pt;"></span>
        <br class="mobile-break">

        <span id="letter">
            <a href="" id="pp_letter" class="typewrite" data-period="2000"
                data-type='[ "TEACHER", "GUIDE", "INSPIRATION", "MOTIVATOR", "FRIEND", "HERO" ]'>
                <script>
                    var TxtType = function (el, toRotate, period) {
                        this.toRotate = toRotate;
                        this.el = el;
                        this.loopNum = 0;
                        this.period = parseInt(period, 10) || 2000;
                        this.txt = '';
                        this.tick();
                        this.isDeleting = false;
                    };

                    TxtType.prototype.tick = function () {
                        var i = this.loopNum % this.toRotate.length;
                        var fullTxt = this.toRotate[i];

                        if (this.isDeleting) {
                            this.txt = fullTxt.substring(0, this.txt.length - 1);
                        } else {
                            this.txt = fullTxt.substring(0, this.txt.length + 1);
                        }

                        this.el.innerHTML = '<span class="wrap">' + this.txt + '</span>';

                        var that = this;
                        var delta = 200 - Math.random() * 100;

                        if (this.isDeleting) { delta /= 2; }

                        if (!this.isDeleting && this.txt === fullTxt) {
                            delta = this.period;
                            this.isDeleting = true;
                        } else if (this.isDeleting && this.txt === '') {
                            this.isDeleting = false;
                            this.loopNum++;
                            delta = 500;
                        }

                        setTimeout(function () {
                            that.tick();
                        }, delta);
                    };

                    window.onload = function () {
                        var elements = document.getElementsByClassName('typewrite');
                        for (var i = 0; i < elements.length; i++) {
                            var toRotate = elements[i].getAttribute('data-type');
                            var period = elements[i].getAttribute('data-period');
                            if (toRotate) {
                                new TxtType(elements[i], JSON.parse(toRotate), period);
                            }
                        }
                        // INJECT CSS
                        var css = document.createElement("style");
                        css.type = "text/css";
                        css.innerHTML = ".typewrite > .wrap { border-right: 0.08em solid #fff}";
                        document.body.appendChild(css);
                    };
                </script>
                <span class="wrap"></span>
            </a>
        </span>
        <!-- <span id="letter">F</span>
        <span id="letter">L</span>
        <span id="letter">O</span>
        <span id="letter">W</span>
        <span id="letter">E</span>
        <span id="letter">R</span> -->

    </div>

    <div id="typedtext" class="csstext">
        <div id="clickMe">Cô Quế Anh click vào đây</div>
        <script>
            var aText = new Array(
                "20.11.2024 Ngày Nhà giáo Việt Nam",
                "Chúc cô luôn xinh đẹp, mạnh khỏe và hạnh phúc.",
                "Tìm được những niềm vui và hạnh phúc trong cuộc sống",
                "lyric: ",
                "Hình như em có điều muốn nói",
                "Thế thì mày cứ nói",
                "Và có lẽ em cũng biết rằng tất cả đang chờ đợi",
                "Ngày hôm nay là ngày thầy giáo, Cũng là ngày cô giáo",
                "Lớp chế 1 bài nhạc để tặng cô, Mong cô bình tĩnh lắng nghe",
                "Một là em chúc cô luôn xinh tươi như đôi mươi",
                "Hai là em chúc cho thầy luôn khỏe yêu đời!",
                "Và chúng em mong cho",
                "Thầy cô luôn",
                "...",
                "1 2 3 năm sau vẫn giữ phong độ đỉnh cao",
                "Lớp em học hành lười biếng hay than vãn trách móc kêu ca",
                "Lắm khi bạn bè vui quá có hơi mất trật tự trong giờ",
                "Và chúng em hôm nay đứng ngay đây",
                "Thầm mong cô sẽ không trách móc lớp vì bọn em",
                "Xin lỗi cô ạ!",
                "Sau này em hứa sẽ rất rất chăm ngoan nhé cô",
                "Em sẽ im lặng trong lớp, lắng nghe tốt, tích cực chép bài",
                "Và chúng em mong cô hiểu cho em rằng",
                "Làm được hay không em không hứa trước điều gì đâu",
                "Yêu cô"
            );
            var iSpeed = 100; // time delay of print out
            var iTime = 500
            var iIndex = 0; // start printing array at this posision
            var iArrLength = aText[0].length; // the length of the text array
            var iScrollAt = 20; // start scrolling up at this many lines

            var iTextPos = 0; // initialise text position
            var sContents = ''; // initialise contents variable
            var iRow; // initialise current row

            function typewriter() {
                if (iIndex == 3) {
                    iSpeed = 70
                    iTime = 300
                }
                if (iIndex == 8) {
                    iSpeed = 80
                }
                if (iIndex == 16) {
                    iSpeed = 70
                }
                if (iIndex == 19) {
                    iSpeed = 80
                    iTime = 2000
                }
                if (iIndex == 20) {
                    iSpeed = 80
                    iTime = 300
                }
                if (iIndex == 23) {
                    iTime = 3500
                }
                sContents = ' ';
                iRow = Math.max(0, iIndex - iScrollAt);
                var destination = document.getElementById("typedtext");

                while (iRow < iIndex) {
                    sContents += aText[iRow++] + '<br>'; // Thêm thẻ <br> để tạo khoảng cách
                }
                destination.innerHTML = sContents + aText[iIndex].substring(0, iTextPos) + "_";
                if (iTextPos++ == iArrLength) {
                    iTextPos = 0;
                    iIndex++;
                    if (iIndex != aText.length) {
                        iArrLength = aText[iIndex].length;
                        setTimeout("typewriter()", iTime);
                    }
                } else {
                    setTimeout("typewriter()", iSpeed);
                }
            }


            window.addEventListener('load', () => {
                const audio = document.getElementById('background-audio');
                const click = document.getElementById("clickMe");

                // Bật âm thanh khi người dùng click
                const enableAudio = () => {
                    audio.muted = false; // Bật âm thanh
                    audio.play(); // Phát âm thanh
                    click.classList.add("hidden"); // Ẩn nút click
                    typewriter(); // Bắt đầu hiệu ứng typewriter
                };

                // Gán sự kiện click chỉ chạy một lần
                document.addEventListener('click', enableAudio, { once: true });
            });

            // set up text to print, each item in array is new line

        </script>


    </div>
    <div class="description">



        <!-- <p class="line-1 anim-typewriter"></p>
        <p class="line-1 anim-typewriter"></p>
        <p class="line-1 anim-typewriter"></p>
        <p class="line-1 anim-typewriter"></p> -->
    </div>
    <div class="button">
        <a href="flower.html">
            <div id="flower" class="rotate"></div>
            <script src="hoa.js"></script>

        </a>
    </div>
    <footer>
        <div>contect: <a href="mailto:admin@thaily.id.vn"><i class="fa fa-envelope"></i></a></div>
    </footer>
</body>

</html>